<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warranty sticker validation</title>
    <style>
        /* الأنماط الاصلية مع تعديل الخط */
        body {
            font-family: 'Arial', sans-serif; /* تأكيد استخدام Arial */
            text-align: center;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
        }
        
        /* إخفاء زر التنزيل */
        .download-btn {
            display: none !important;
        }

        /* ... (ابق جميع الأنماط الأخرى كما هي) ... */
    </style>
</head>
<body>
    <div class="container">
        <!-- ... (نفس الهيكل السابق بدون زر التنزيل) ... -->
    </div>

    <script>
        // توليد 30 ألف رمز (نسخة محسنة)
        const generateRandomCode = () => {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            return Array.from({length: 12}, (_, i) => 
                chars[Math.floor(Math.random() * chars.length)]
            ).join('');
        };

        const allowedCodes = new Set();
        while(allowedCodes.size < 30000) {
            allowedCodes.add(generateRandomCode());
        }

        // دالة التحقق المعدلة
        function validateForm(event) {
            event.preventDefault();
            const input = document.getElementById("numberInput").value.toUpperCase().trim();
            const resultElement = document.getElementById("result");
            
            // إعادة تعيين النتائج
            resultElement.className = '';
            resultElement.textContent = '';

            const usedCodes = JSON.parse(localStorage.getItem("usedCodes")) || [];

            if(usedCodes.includes(input)) {
                resultElement.textContent = "❌ تم الاستخدام مسبقاً";
                resultElement.className = 'error';
                return;
            }

            if(allowedCodes.has(input)) {
                usedCodes.push(input);
                localStorage.setItem("usedCodes", JSON.stringify(usedCodes));
                resultElement.textContent = "✅ رمز صحيح";
                resultElement.className = 'success';
            } else {
                resultElement.textContent = "❌ رمز غير صحيح";
                resultElement.className = 'error';
            }
        }

        // دالة التنزيل (موجودة ولكن غير مستخدمة في الواجهة)
        function downloadCodes() {
            // ... (نفس الكود السابق) ...
        }
    </script>
</body>
</html>
